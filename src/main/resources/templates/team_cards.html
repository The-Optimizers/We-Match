<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Albums</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
   <style>
       #show {
           display: none;
       }

       #show.visible {
           display: block;
       }
   </style>
    </head>
<body>


<ul class="Teams" th:each="team : ${teams}"  >


    <div class="card" style="width: 18rem;" th:id="${team.getCardId()}">
        <img class="card-img-top" th:src="${team.imageUrl}" alt="Card image cap"/>
        <div class="card-body">


            <h1 th:text="${team.getUser.size()}"></h1>


            <h6 th:text="${team.getUser().size() + '/'+team.getNumber()}"></h6>

            </span>

            <h5 class="card-title" th:text="'Artist: ' + ${team.name}"></h5>
            <p class="card-text" th:text="'Song Count: ' + ${team.time}"></p>
            <p class="card-text" th:text="'Length: ' + ${team.info} +'sec'"></p>

            <span th:each="x:${team.getUser()}">

                        <div th:if="${x.username==username}">


                <form method="post" th:action="@{'/leave/team?id='+${team.id}+'&id2='+${user_id}}" >

                    <button
                            th:id="${team.id}"
                            th:name="${team.name}"

                            type="submit"
                    >Leave Team

                    </button>

                </form>
            </div>


            </span>
            <form method="post"  th:action="@{'/join/team?id='+${team.id}+'&id2='+${user_id}}">

                    <button
                            th:name="${team.name}"
                            type="submit"


                    >Join</button>
                </form>

            <div>

            <div th:if="${team.getCardId() == username}">

                <form  th:if="${hi == true}" style="float:left;"th:action="${'/edit/team/'+ team.id}" method="get">

                    <button class="btn btn-info" style="width:50px;">⚒</button>

                </form>
            </div>

        </div>
        <div th:if="${team.getCardId() == username}">
            <form  th:if="${hi == true}" method="post" th:action="${'/delete/team/'+ team.id}" >
                <h1  >hello</h1>
                <button style="width:50px;" class="btn btn-danger" type="submit">X</button>
            </form>
        </div>

        <a href="/team/chat">join chat!</a>

    </div>





    </div>
    <!--    th:if="${isValid == true}"-->


</ul>

<script>
    function toggleText(){
        var x = document.getElementById("Myid");
        if (x.style.display === "none") {
            x.style.display = "block";
        } else {
            x.style.display = "none";
        }
    }
</script>
<ul class="Teams" th:each="team : ${teams2}">

    <div class="card" style="width: 18rem;" th:id="${team.getCardId()}">
        <img class="card-img-top" th:src="${team.imageUrl}" alt="Card image cap">
        <div class="card-body">
            <h5 class="card-title" th:text="'Artist: ' + ${team.name}"></h5>
            <p class="card-text" th:text="'Song Count: ' + ${team.skills}"></p>
            <p class="card-text" th:text="'Length: ' + ${team.info} +'sec'"></p>


            <span th:each="x:${team.getUser()}">

                        <div th:if="${x.username==username}">


                <form method="post" th:action="@{'/leave/team?id='+${team.id}+'&id2='+${user_id}}" >

                    <button
                            th:id="${team.id}"
                            th:name="${team.name}"

                            type="submit"
                    >Leave Team

                    </button>

                </form>
            </div>


            </span>
            <form method="post"  th:action="@{'/join/team?id='+${team.id}+'&id2='+${user_id}}">

                <button
                        th:name="${team.name}"
                        type="submit"


                >Join</button>
            </form>

            <div>

            <div th:if="${team.getCardId() == username}">

                <form  th:if="${hi == true}" style="float:left;"th:action="${'/edit/team2/'+ team.id}" method="get">

                    <button class="btn btn-info" style="width:50px;">⚒</button>

                </form>
            </div>

        </div>
        <div th:if="${team.getCardId() == username}">
            <form  th:if="${hi == true}" method="post" th:action="${'/delete/team2/'+ team.id}" >
                <h1  >hello</h1>
                <button style="width:50px;" class="btn btn-danger" type="submit">X</button>
            </form>
        </div>

        <a href="/team/chat">join chat!</a>

    </div>
</ul>

</body>
</html>